{% extends 'base.html' %}

{% block content %}
  <div class="py-5 text-center" style="background-image: linear-gradient(to left bottom, rgba(189, 195, 199, .75), rgba(44, 62, 80, .75)); background-size: 100%;" >
    <div class="container">
      <div class="row">
        <div class="mx-auto col-md-6">
          <h1>Enter Room Name</h1>
          <p class="mb-4">What chat room would you like to enter?</p>
          <form class="form-inline d-flex justify-content-center">
            <div class="input-group"> <input type="text" size="100" class="form-control" placeholder="Enter Room Name" id="room-name-input">
                <div class="input-group-append"><input class="btn btn-primary" id="room-name-submit" type="button" value="Join room"></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            console.log(roomName);
            window.location.pathname = '/chat/' + roomName + '/';
        };
    </script>
{% endblock %}